<!DOCTYPE html>
<html>
    <head>
        <title>Love Factory</title>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="icon" type="image/x-icon" href="\static\favicon.png">
        <meta charset="UTF-8">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    </head>

    <body class="placeholder-glow">

        <script src="static/songs.js"></script>

        <script>

             window.onload = (e) => 
             {
                "{% if url!=None %}"

                // var url = decodeURIComponent("{{url}}".replaceAll("&amp;","&"));
                // console.log(url);
                // play(url); 

                var imgs = document.getElementById("images_group");

                fetch("/get_stream")
                .then((response)=>response.text())
                .then((url) =>{
                
                    play(url).oncanplay = () => {
                        console.log("Playing...");
                        imgs.classList.remove("placeholder","col-12");
                    };
                    
                })
                .catch((error)=>console.log(error));

                "{% endif %}"
             };  

        </script>

        <style>

            table 
            {
                margin-left: 10dp;
                margin-right: 10dp;
            }

            .center {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%,-50%);
            }   

            .spin {
                width: 5rem;
                height: 5rem;
            }

            .lds-ring {
                display: inline-block;
                position: relative;
                width: 80px;
                height: 80px;
            }

            .lds-ring div {
                box-sizing: border-box;
                display: block;
                position: absolute;
                width: 64px;
                height: 64px;
                margin: 8px;
                border: 5px solid #fff;
                border-radius: 50%;
                animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
                border-color:orange transparent transparent transparent;
            }

            .lds-ring div:nth-child(1) {
                animation-delay: -0.45s;
            }

            .lds-ring div:nth-child(2) {
                animation-delay: -0.3s;
            }
                
            .lds-ring div:nth-child(3) {
                animation-delay: -0.15s;
            }

            @keyframes lds-ring {
                0% {
                    transform: rotate(0deg);
                }

                100% {
                    transform: rotate(360deg);
                }
            }

            .img_container {
                background-color: #fff;
            }

            @media screen and (min-width : 768px) {

                .img_container {
                    display: flex;
                    flex-wrap: wrap;
                }

                .img_container img {
                    width: calc(33.33% - 2px);
                    height: auto;
                    object-fit: cover;
                    margin: 1px;
                }
            }

            @media screen and (min-width:320px) and (max-width:767px) {

                .img_container {
                    display: flex;
                    flex-direction: column;
                }

                .img_container img {
                    width: 100%;
                    height: auto;
                    object-fit: cover;
                    margin-bottom: 2%;
                }
            }

        </style>

        <!--

        <div id="spinner" class="center">

            <div class="lds-ring"><div></div><div></div><div></div><div></div></div>

        </div>

        -->

        <div id="images_group" class="placeholder col-12 img_container">

            <img width="100%" src="/static/eyes.jpg">
            <img width="100%" src="/static/deities.jpg">
            <img width="100%" src="/static/kiss.jpg">
            <img width="100%" src="/static/daughter.jpg">
            <img width="100%" src="/static/hug.jpg">
            <img width="100%" src="/static/too much.jpg">
            <img width="100%" src="/static/how.jpg">
            <img width="100%" src="/static/pain.jpg">
            <img width="100%" src="/static/look.jpg">

        </div>

    </body>
</html>